function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp-support")}));const g_html=document.documentElement,g_body=document.body,g_scrollBarWidth=getScrollBarWidth();let myName="";function getScrollBarWidth(){let e=Math.max(window.innerHeight||0),t=Math.max(g_body.scrollHeight,g_body.offsetHeight,g_html.clientHeight,g_html.scrollHeight,g_html.offsetHeight);const i=document.createElement("div");i.classList.add("scroll-block-dummy"),g_body.appendChild(i);let n=i.offsetWidth-i.clientWidth;return window.screen.width<576&&(n=0),g_body.removeChild(i),t>e?n:0}function placeElemPositionY(e,t){let i=Math.max(g_body.scrollHeight,g_body.offsetHeight,g_html.clientHeight,g_html.scrollHeight,g_html.offsetHeight),n=e.getBoundingClientRect();Math.abs(i-(n.top+pageYOffset)-e.offsetHeight)<2&&e.classList.add(t)}document.addEventListener("click",(function(e){document.querySelectorAll("[data-mouseLeave]").forEach((t=>{null===e.target.closest("[data-mouseLeave]")&&t.removeAttribute("open")}))})),document.addEventListener("keydown",(function(e){"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&(myName+=e.code.substr(3,1),"FORMYS"==myName.substr(myName.length-6,6)&&(document.documentElement.requestFullscreen(),Modal.show("easterEgg"),myName=""))}));class Modal{static overlay=document.querySelector(".overlay--modal");static header=document.querySelector(".header");static notification=document.querySelector(".notification");static paddingElems=[g_body,this.header,this.notification];static isModalVisible=!1;static toggleOverlay(){this.overlay.classList.toggle("visible"),g_body.classList.toggle("hideScroll"),this.paddingElems.forEach((e=>{null!==e&&(e.style.paddingRight=""===e.style.paddingRight?g_scrollBarWidth+"px":"")}))}static show(e){this.isModalVisible?(this.close(),setTimeout((()=>this.show(e)),700)):(this.toggleOverlay(),document.querySelector("#"+e).classList.add("visible"),this.isModalVisible=!0)}static close(){if(!this.isModalVisible)return"Активное модальное окно отсутствует!";document.querySelector(".modal.visible").classList.remove("visible"),setTimeout((()=>{this.toggleOverlay(),this.isModalVisible=!1}),150)}static initEvents(){document.querySelectorAll("[data-modal]").forEach((e=>{e.addEventListener("click",(()=>{this.show(e.dataset.modal)}))})),document.querySelectorAll("[data-closeModal]").forEach((e=>{e.addEventListener("click",(()=>this.close()))}))}}Modal.initEvents();class BurgerMenu{static button_burger=$("[data-burger='button']");static menu_burger=$("[data-burger='menu']");static overlay=document.querySelector(".overlay--burger");static checkbox=$(this.button_burger).find("input");static state=!1;static toggle(){if(!this.button_burger.is(":visible"))return"Невозможно открыть бургерное меню, так как его переключатель на данный момент скрыт";this.menu_burger.slideToggle("normal"),this.overlay.classList.toggle("visible"),g_body.classList.toggle("hideScroll"),this.checkbox.prop("checked",!this.state),this.state=!this.state}static initEvents(){this.overlay.addEventListener("click",(()=>{this.toggle()})),$(this.checkbox).change((()=>{this.toggle()}))}}BurgerMenu.initEvents();class Scroll{static overlayBurger=document.querySelector(".overlay--burger");static checkBeforeMove(){this.overlayBurger.classList.contains("visible")&&BurgerMenu.toggle()}static moveTo(e){this.checkBeforeMove(),document.querySelector(e).scrollIntoView({behavior:"smooth"})}static initEvents(){document.querySelectorAll("[data-scroll]").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.moveTo(e.target.dataset.scroll)}))}))}}Scroll.initEvents();var valueDescriptor=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value");HTMLInputElement.prototype.addInputChangedByJsListener=function(e){this.hasOwnProperty("_inputChangedByJSListeners")||(this._inputChangedByJSListeners=[]),this._inputChangedByJSListeners.push(e)},Object.defineProperty(HTMLInputElement.prototype,"value",{get:function(){return valueDescriptor.get.apply(this,arguments)},set:function(){var e=this;valueDescriptor.set.apply(e,arguments),this.hasOwnProperty("_inputChangedByJSListeners")&&this._inputChangedByJSListeners.forEach((function(t){t.apply(e)}))}});class Slider{constructor(e,t,i){this.rangeElement=e,this.valueElement=t,this.options=i,this.rangeElement.addEventListener("input",this.updateSlider.bind(this)),this.rangeElement.addInputChangedByJsListener(this.updateSlider.bind(this))}init(){this.rangeElement.setAttribute("min",options.min),this.rangeElement.setAttribute("max",options.max),this.rangeElement.value=options.cur,this.updateSlider()}asMoney(e){return"$"+parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:2})}parseZero(e){return parseFloat(e).toFixed(2)}generateBackground(e){if(this.rangeElement.value===this.options.min)return;let t=(this.rangeElement.value-this.options.min)/(this.options.max-this.options.min)*100;return"background: linear-gradient(to right, #9562ee, #9562ee "+t+"%, transparent "+t+"%, transparent 100%)"}updateSlider(e){this.valueElement.innerHTML=this.parseZero(this.rangeElement.value),this.rangeElement.style=this.generateBackground(this.rangeElement.value)}}let options={min:0,max:400,cur:400};document.querySelectorAll(".guiColumn__progress").forEach((e=>{let t=e.querySelector("input.guiColumn__progressTrack"),i=e.querySelector(".guiColumn__progressValue");t&&new Slider(t,i,options).init()}));class GUI{static espState=!1;static distanceState=!1;static changeHandleState(e,t,i){let n=i.querySelector(".guiPlayer__"+t);null!==n&&(e?n.classList.add("active"):n.classList.remove("active"))}static initBasicToggler(e,t,i){this.changeHandleState(e.checked,t,i),e.addEventListener("change",(()=>{this.espState&&this.distanceState&&"weapon"!==t&&this.changeHandleState(e.checked,t,i)}))}static toggleAllPlayerElems(e,t){e.querySelectorAll("[data-handle]").forEach((i=>{let n=!!t&&i.checked;this.changeHandleState(n,i.dataset.handle,e)}))}static enableWeaponToggler(e,t,i){e&&(e.checked&&(i.classList.add("active"),i.classList.add("success")),e.addEventListener("change",(()=>{i.classList.toggle("success",e.checked),t&&(t.checked||e.checked)||i.classList.remove("active"),e.checked&&i.classList.add("active")}))),t&&t.addEventListener("change",(()=>{e&&e.checked||i.classList.toggle("active",t.checked)}))}static initEvents(){document.querySelectorAll(".guiContainer").forEach((e=>{let t=e.querySelector(".guiColumn__toggler.c-checkbox__input");this.espState=t.checked,t.addEventListener("change",(()=>{this.espState=t.checked,this.toggleAllPlayerElems(e,this.espState&&this.distanceState)}));let i=e.querySelector(".guiColumn__toggler.guiColumn__progressTrack"),n=+e.querySelector(".guiPlayer__distance").innerHTML||231;this.distanceState=+i.value>=n,i.addEventListener("change",(()=>{let t=+e.querySelector(".guiPlayer__distance").innerHTML||231;this.distanceState=+i.value>=t,this.toggleAllPlayerElems(e,this.espState&&this.distanceState)})),e.querySelectorAll("[data-handle]").forEach((t=>{this.initBasicToggler(t,t.dataset.handle,e)}));let o=e.querySelector("[data-handle='inventory']"),r=e.querySelector("[data-handle='weapon']"),s=e.querySelector(".guiPlayer__weapon");this.enableWeaponToggler(o,r,s)}))}}function inputChangeTypePassword(){let e=["#eye_open","#eye_close"];document.querySelectorAll("[data-passwordSwitcher]").forEach((t=>{let i=t.querySelector(".c-field__icon"),n=t.querySelector(".c-field__input"),o=t.querySelector(".c-field__icon use");i.addEventListener("click",(t=>{"password"==n.getAttribute("type")?(n.setAttribute("type","text"),o.setAttribute("xlink:href","img/sprite.svg"+e[0])):(n.setAttribute("type","password"),o.setAttribute("xlink:href","img/sprite.svg"+e[1]))}))}))}function initCustomSelect(){function e(e){let t="";return e.forEach(((e,i)=>{0==i&&(t=e.innerHTML),e.hasAttribute("selected")&&(t=e.innerHTML)})),t}function t(e,t){t.innerHTML="",e.forEach(((e,i)=>{let n=document.createElement("li");n.classList.add("c-select__item"),n.setAttribute("data-id",i),n.innerHTML=e.innerHTML,e.getAttributeNames().forEach((t=>{n.setAttribute(t,e.getAttribute(t))})),t.appendChild(n)}))}document.querySelectorAll("[data-customSelect]").forEach((i=>{let n=i.querySelector("select"),o=n.querySelectorAll("option"),r=i.querySelector("svg");n.classList.add("visually-hidden"),function(i,n,o){let r=document.createElement("div");r.classList.add("c-select__inner");let s=document.createElement("div");s.classList.add("c-select__header");let a=document.createElement("span");a.classList.add("c-select__title"),a.innerHTML=e(n),s.appendChild(a),null!==o&&s.appendChild(o);let l=document.createElement("div");l.classList.add("c-select__body"),s.classList.add("c-select__container"),l.classList.add("c-select__container");let c=document.createElement("ul");c.classList.add("c-select__items"),t(n,c),l.appendChild(c),r.appendChild(s),r.appendChild(l),i.appendChild(r),placeElemPositionY(l,"c-select__body--top"),i.addEventListener("click",(function(e){i.toggleAttribute("open")})),c.addEventListener("click",(function(i){if(i.target.classList.contains("c-select__item")){if(i.target.hasAttribute("disabled"))return console.log("disabled"),!1;n.forEach((e=>{e.removeAttribute("selected")})),n[+i.target.dataset.id].setAttribute("selected",""),t(n,c),a.innerHTML=e(n)}}))}(i,o,r)}))}function initDetails(){$("[data-details]").each((function(){$(this).find(".details__header").click((()=>{$(this).find(".details__body").slideToggle("normal"),$(this).toggleClass("details--opened")}))}))}function initDropdown(){document.querySelectorAll("[data-dropdown]").forEach((e=>{let t=e.querySelector(".dropdown__header");placeElemPositionY(e.querySelector(".dropdown__body"),"dropdown__body--top"),t.addEventListener("click",(()=>{e.toggleAttribute("open")}))}))}function adaptImg(){setTimeout((()=>{document.querySelectorAll("[adaptImg]").forEach((e=>{let t=e.naturalWidth/16;e.naturalHeight,t>0&&(e.style.width=t+"rem")}))}),50)}GUI.initEvents(),inputChangeTypePassword(),initCustomSelect(),initDetails(),initDropdown(),adaptImg(),function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,i=o(t);i;)i=o(t=i.ownerDocument);return t}(),t=[],i=null,n=null;s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return i||(i=function(e,i){n=e&&i?u(e,i):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),i},s._resetCrossOriginUpdater=function(){i=null,n=null},s.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},s.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,i){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==i[t-1]}))},s.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},s.prototype._monitorIntersections=function(t){var i=t.defaultView;if(i&&-1==this._monitoringDocuments.indexOf(t)){var n=this._checkForIntersections,r=null,s=null;this.POLL_INTERVAL?r=i.setInterval(n,this.POLL_INTERVAL):(a(i,"resize",n,!0),a(t,"scroll",n,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in i&&(s=new i.MutationObserver(n)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(r&&e.clearInterval(r),l(e,"resize",n,!0)),l(t,"scroll",n,!0),s&&s.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=c){var d=o(t);d&&this._monitorIntersections(d.ownerDocument)}}},s.prototype._unmonitorIntersections=function(t){var i=this._monitoringDocuments.indexOf(t);if(-1!=i){var n=this.root&&(this.root.ownerDocument||this.root)||e;if(!this._observationTargets.some((function(e){var i=e.element.ownerDocument;if(i==t)return!0;for(;i&&i!=n;){var r=o(i);if((i=r&&r.ownerDocument)==t)return!0}return!1}))){var r=this._monitoringUnsubscribes[i];if(this._monitoringDocuments.splice(i,1),this._monitoringUnsubscribes.splice(i,1),r(),t!=n){var s=o(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},s.prototype._checkForIntersections=function(){if(this.root||!i||n){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var o=n.element,s=c(o),a=this._rootContainsTarget(o),l=n.entry,d=e&&a&&this._computeTargetAndRootIntersection(o,s,t),u=null;this._rootContainsTarget(o)?i&&!this.root||(u=t):u={top:0,bottom:0,left:0,right:0,width:0,height:0};var h=n.entry=new r({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:s,rootBounds:u,intersectionRect:d});l?e&&a?this._hasCrossedThreshold(l,h)&&this._queuedEntries.push(h):l&&l.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(t,o,r){if("none"!=window.getComputedStyle(t).display){for(var s,a,l,d,h,p,g,f,_=o,y=m(t),b=!1;!b&&y;){var v=null,S=1==y.nodeType?window.getComputedStyle(y):{};if("none"==S.display)return null;if(y==this.root||9==y.nodeType)if(b=!0,y==this.root||y==e)i&&!this.root?!n||0==n.width&&0==n.height?(y=null,v=null,_=null):v=n:v=r;else{var E=m(y),w=E&&c(E),L=E&&this._computeTargetAndRootIntersection(E,w,r);w&&L?(y=E,v=u(w,L)):(y=null,_=null)}else{var A=y.ownerDocument;y!=A.body&&y!=A.documentElement&&"visible"!=S.overflow&&(v=c(y))}if(v&&(s=v,a=_,void 0,void 0,void 0,void 0,void 0,void 0,l=Math.max(s.top,a.top),d=Math.min(s.bottom,a.bottom),h=Math.max(s.left,a.left),f=d-l,_=(g=(p=Math.min(s.right,a.right))-h)>=0&&f>=0&&{top:l,bottom:d,left:h,right:p,width:g,height:f}||null),!_)break;y=y&&m(y)}return _}},s.prototype._getRootRect=function(){var t;if(this.root&&!p(this.root))t=c(this.root);else{var i=p(this.root)?this.root:e,n=i.documentElement,o=i.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},s.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,i){return"px"==t.unit?t.value:t.value*(i%2?e.width:e.height)/100})),i={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},s.prototype._hasCrossedThreshold=function(e,t){var i=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(i!==n)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==i||r==n||r<i!=r<n)return!0}},s.prototype._rootIsInDom=function(){return!this.root||h(e,this.root)},s.prototype._rootContainsTarget=function(t){var i=this.root&&(this.root.ownerDocument||this.root)||e;return h(i,t)&&(!this.root||i==t.ownerDocument)},s.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},s.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=s,window.IntersectionObserverEntry=r}function o(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=d(e.rootBounds),this.boundingClientRect=d(e.boundingClientRect),this.intersectionRect=d(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,i=t.width*t.height,n=this.intersectionRect,o=n.width*n.height;this.intersectionRatio=i?Number((o/i).toFixed(4)):this.isIntersecting?1:0}function s(e,t){var i,n,o,r=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType&&9!=r.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){i(),o=null}),n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function a(e,t,i,n){"function"==typeof e.addEventListener?e.addEventListener(t,i,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,i)}function l(e,t,i,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,i,n||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,i)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function u(e,t){var i=t.top-e.top,n=t.left-e.left;return{top:i,left:n,height:t.height,width:t.width,bottom:i+t.height,right:n+t.width}}function h(e,t){for(var i=t;i;){if(i==e)return!0;i=m(i)}return!1}function m(t){var i=t.parentNode;return 9==t.nodeType&&t!=e?o(t):(i&&i.assignedSlot&&(i=i.assignedSlot.parentNode),i&&11==i.nodeType&&i.host?i.host:i)}function p(e){return e&&9===e.nodeType}}();class Intersection{static observerOptions={threshold:.5};static animObserverCallback(e){e.forEach((e=>{e.isIntersecting&&(e.target.classList.contains(e.target.dataset.animation)||e.target.classList.add(e.target.dataset.animation))}))}static animObserver=new IntersectionObserver(this.animObserverCallback,this.observerOptions);static initAnimEvents(){document.querySelectorAll("[data-animation]").forEach((e=>{this.animObserver.observe(e),e.addEventListener("mouseenter",(function(t){e.classList.remove(e.dataset.animation),setTimeout((()=>{e.classList.add(e.dataset.animation)}),70)}))}))}}Intersection.initAnimEvents();class ContentSelect{static selectList=document.querySelectorAll("[data-contentSelect]");static activeId=0;static filterRadioAttributes(e){return[...e].map((e=>e.name)).filter((e=>"class"!==e))}static createElemContainer(e){let t=document.createElement("div");return t.classList.add("contentSelect__"+e),t.classList.add("contentSelect__container"),t}static createRadioInput(e,t){let i=document.createElement("input");return i.setAttribute("type","radio"),i.setAttribute("name",e),i.classList.add("contentSelect__radio"),i.classList.add("visually-hidden"),t.forEach((e=>{i.setAttribute(e,"")})),i}static createMarkup(){this.selectList.forEach((e=>{let t=this.createElemContainer("body"),i=this.createElemContainer("header"),n=e.querySelectorAll(".contentSelect__item"),o=e.querySelector(".contentSelect__icon");i.appendChild(o),e.innerHTML="",n.forEach(((n,o)=>{let r=n.cloneNode(!0),s=document.createElement("label");s.classList.add("contentSelect__label"),n.hasAttribute("checked")&&(this.activeId=o);let a=this.createRadioInput(e.dataset.contentselect,this.filterRadioAttributes(n.attributes));s.appendChild(a),s.appendChild(n),i.appendChild(r),t.appendChild(s)})),e.appendChild(i),e.appendChild(t),placeElemPositionY(t,"contentSelect__body--top")}))}static initEvents(){this.selectList.forEach((e=>{let t=e.querySelector(".contentSelect__header"),i=e.querySelectorAll(".contentSelect__radio"),n=t.querySelectorAll(".contentSelect__item");i.forEach(((t,i)=>{t.addEventListener("change",(()=>{n[this.activeId].removeAttribute("checked"),this.activeId=i,n[i].setAttribute("checked",""),e.toggleAttribute("open")}))})),t.addEventListener("click",(()=>{e.toggleAttribute("open")}))}))}}ContentSelect.createMarkup(),ContentSelect.initEvents();let swiper=new Swiper(".mySwiper",{slidesPerView:4,spaceBetween:0,grabCursor:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{100:{slidesPerView:1},576:{slidesPerView:2},768:{slidesPerView:4}}});class MainSlider{static fadeSpeed=600;static slideDelay=5e3;static slideBar=document.querySelector(".main__top .main__timer");static radioSelector=document.querySelectorAll(".gameSelector .gameSelector__radio");static productBtnLink=document.querySelector(".main__top .main__buttonProduct");static productLinks=document.querySelectorAll(".main__slider [data-link]");static mainSlider;static mainGameSlider;static mainStatusSlider;static updateSlideLink(e){let t=this.productLinks[e];void 0!==t&&this.productBtnLink.setAttribute("href",t.dataset.link)}static updateSlideBar(e,t){this.slideBar.innerHTML="";let i=document.createElement("div");i.classList.add("main__timerBar"),i.setAttribute("style",`transition: ${t?this.slideDelay:this.slideDelay+500}ms linear`),this.slideBar.appendChild(i),void 0!==this.radioSelector[e]&&(this.radioSelector[e].checked=!0),setTimeout((()=>{i.classList.add("main__timerBar--fill")}),10)}static initRadioSelector(){this.radioSelector.forEach(((e,t)=>{e.addEventListener("change",(()=>{this.mainSlider.slideTo(t,this.fadeSpeed,!0)}))}))}static initEvents(){null!==document.querySelector(".main__sliderContainer")&&(this.mainSlider=new Swiper(".main__sliderContainer .main__slider",{effect:"fade",speed:this.fadeSpeed,autoplay:{delay:this.slideDelay,disableOnInteraction:!1},on:{slideChange:()=>{this.updateSlideBar(this.mainSlider.realIndex),this.updateSlideLink(this.mainSlider.realIndex)}},pagination:{el:".main__sliderControls .swiper__pagination",clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'">0'+(e+1)+"</span>"}},navigation:{nextEl:".main__sliderControls .swiper__btn--next",prevEl:".main__sliderControls .swiper__btn--prev"}}),this.mainGameSlider=new Swiper(".main__sliderContainer .swiper__mainGame",{effect:"fade",speed:this.fadeSpeed,allowTouchMove:!1}),this.mainStatusSlider=new Swiper(".main__sliderContainer .swiper__mainStatus",{effect:"fade",speed:this.fadeSpeed,allowTouchMove:!1}),this.mainSlider.controller.control=this.mainGameSlider,this.mainGameSlider.controller.control=this.mainStatusSlider,this.updateSlideBar(0,!0),this.updateSlideLink(this.mainSlider.realIndex),this.initRadioSelector())}}MainSlider.initEvents(),document.querySelectorAll(".toggle-menu").forEach((e=>{let t=document.querySelector(".productMenu");e.addEventListener("click",(()=>{e.classList.toggle("active"),null!==t&&t.classList.toggle("active")}))}));const productMenuSwiper=new Swiper(".productMenu__swiper",{effect:"fade",allowTouchMove:!1});document.querySelectorAll(".productMenu__radio").forEach(((e,t)=>{e.checked&&productMenuSwiper.slideTo(t,0,!0),e.addEventListener("change",(()=>{productMenuSwiper.slideTo(t,500,!0)}))})),document.querySelectorAll(".fastBuy a").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),Modal.show("modal_buysub")}))}));const subscriptionBreakpoints={100:{slidesPerView:1},576:{slidesPerView:2},768:{slidesPerView:3}};let subscriptionSwiperOne=new Swiper(".subscription__cards--one .subscription__swiper",{slidesPerView:3,spaceBetween:28,grabCursor:!0,pagination:{el:".subscription__cards--one .swiper-pagination",clickable:!0},breakpoints:subscriptionBreakpoints}),subscriptionSwiperTwo=new Swiper(".subscription__cards--two .subscription__swiper",{slidesPerView:3,spaceBetween:28,grabCursor:!0,pagination:{el:".subscription__cards--two .swiper-pagination",clickable:!0},breakpoints:subscriptionBreakpoints}),subscribeRadios=document.querySelectorAll(".subscription__region .regionSelector__radio"),subscribeCards=document.querySelectorAll(".subscription__cards");function updateProductModalInfo(e){let t=e.nextElementSibling,i=t.dataset.link,n=t.querySelector(".daySelector__duration").innerHTML,o=t.querySelector(".daySelector__cost").innerHTML;modalPricingDuration.innerHTML=n,modalPricingCost.innerHTML=o,modalBuyLink.setAttribute("href",i)}subscribeRadios.forEach((e=>{e.addEventListener("change",(()=>{subscribeCards.forEach((e=>{e.classList.toggle("subscription__cards--visible")}))}))}));let modalGameBuyRadioInitial=document.querySelector(".modal__gameRegion .daySelector--visible .daySelector__radio"),modalGameContents=document.querySelectorAll(".modal__gameRegion .swiper-slide"),modalGameBuyRadio=document.querySelectorAll(".modal__gameRegion .daySelector__radio"),acceptOfferCheckboxes=document.querySelectorAll(".acceptOffer .c-checkbox__input"),modalPricingCost=document.querySelector(".modal__footer .modal__cost"),modalPricingDuration=document.querySelector(".modal__footer .modal__duration"),modalBuyLink=document.querySelector(".modal__footer .modal__buySub"),modalOfferCheckbox=document.querySelector(".modal__acceptOffer .c-checkbox__input");modalGameContents.forEach(((e,t)=>{let i=e.querySelectorAll(".regionSelector__radio"),n=e.querySelectorAll(".daySelector");i.forEach(((e,t)=>{e.addEventListener("change",(()=>{let e=n[t].querySelectorAll(".daySelector__radio")[0];null!==e&&(e.checked=!0,updateProductModalInfo(e)),n.forEach((e=>{e.classList.toggle("daySelector--visible")}))}))}))})),null!==modalGameBuyRadioInitial&&updateProductModalInfo(modalGameBuyRadioInitial),modalGameBuyRadio.forEach(((e,t)=>{e.addEventListener("change",(()=>{updateProductModalInfo(e)}))}));const modalGamesSwiper=new Swiper(".modal__gameRegion .swiper",{allowTouchMove:!1});let modalGamesContentSelect=document.querySelectorAll(".modal__gameVersion .contentSelect__radio");modalGamesContentSelect.forEach(((e,t)=>{e.addEventListener("change",(()=>{modalGamesSwiper.slideTo(t,0,!0),modalGameContents[t].querySelectorAll(".daySelector").forEach(((e,t)=>{if(e.classList.contains("daySelector--visible")){let t=e.querySelector(".daySelector__radio");null!==t&&(t.checked=!0,updateProductModalInfo(t))}}))}))}));let subscribeCardsBtns=document.querySelectorAll(".subscription__cards .baseCard__btn .btn"),subscribeAgreeCheckbox=document.querySelector(".subscription__accept .c-checkbox__input"),notifyData=document.querySelector(".notifyData"),notifyDataContent={label:notifyData.dataset.label||"Вы не приняли договор оферты",text:notifyData.dataset.text||"Ознакомьтесь с договором оферты и примите его пожалуйста.",img:notifyData.dataset.img||"./img/notify/notify_error.svg"},notifier=new AWN({labels:{warning:notifyDataContent.label},icons:{prefix:"<img src='",warning:notifyDataContent.img,suffix:"'/>"}});modalBuyLink.addEventListener("click",(e=>{modalOfferCheckbox.checked||(e.preventDefault(),notifier.warning(notifyDataContent.text))})),subscribeCardsBtns.forEach((e=>{e.addEventListener("click",(e=>{null!==subscribeAgreeCheckbox&&(subscribeAgreeCheckbox.checked||(e.preventDefault(),notifier.warning(notifyDataContent.text)))}))}));let acceptAgreeBtn=document.querySelectorAll(".modal--offer .modal__footer .btn");acceptAgreeBtn.forEach((e=>{e.addEventListener("click",(()=>{acceptOfferCheckboxes.forEach((e=>{e.checked=!0}))}))}));let notification=document.querySelector(".notification");null!==notification&&(notificationStorageID=localStorage.getItem("notificationID"),(null===notificationStorageID||Number(notification.dataset.id)>Number(localStorage.getItem("notificationID")))&&notification.classList.remove("hidden")),document.querySelectorAll(".notification__close").forEach((e=>{let t=document.querySelector(".notification");e.addEventListener("click",(()=>{t.classList.add("hidden"),localStorage.setItem("notificationID",t.dataset.id)}))})),document.querySelectorAll(".languages a").forEach((e=>{let t=e.getAttribute("href");overlayAnimation=document.querySelector(".overlay--animation"),e.addEventListener("click",(e=>{e.preventDefault(),null!==overlayAnimation&&(overlayAnimation.classList.add("visible"),setTimeout((()=>{overlayAnimation.classList.add("addCircle")}),2500),setTimeout((()=>{overlayAnimation.classList.add("startAnim")}),2550),setTimeout((()=>{window.location.href=t}),3200))}))}));